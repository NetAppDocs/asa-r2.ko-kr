---
sidebar: sidebar 
permalink: manage-data/provision-san-storage.html 
keywords: provision storage,san, create storage units, luns, namespaces, nvme, add host, add host initiators, map host, host mapping, create, ontap 
summary: 'ASA R2에서 ONTAP 스토리지를 프로비저닝하여 SAN(SCSI 및 NVMe) 호스트가 지정된 스토리지 유닛(LUN 및 NVMe 네임스페이스)에 데이터를 읽고 쓸 수 있도록 합니다.' 
searchtitle: ONTAP System Manager | ASA R2를 사용하여 SAN 스토리지를 프로비저닝합니다 
---
= ASA R2 시스템에서 ONTAP SAN 스토리지를 프로비저닝합니다
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
스토리지를 프로비저닝할 때 SAN 호스트가 ASA R2 스토리지 시스템에서 데이터를 읽고 쓸 수 있습니다. 스토리지를 프로비저닝하려면 ONTAP 시스템 관리자를 사용하여 스토리지 유닛을 생성하고 호스트 이니시에이터를 추가한 후 호스트를 스토리지 유닛에 매핑합니다. 읽기/쓰기 작업을 설정하려면 호스트에서 단계를 수행해야 합니다.



== 스토리지 유닛을 생성합니다

ASA r2 시스템에서 스토리지 장치는 SAN 호스트에 데이터 작업을 위한 스토리지 공간을 제공합니다. 저장 장치는 SCSI 호스트의 경우 LUN을 의미하고, NVMe 호스트의 경우 NVMe 네임스페이스를 의미합니다. 클러스터가 SCSI 호스트를 지원하도록 구성된 경우 LUN을 생성하라는 메시지가 표시됩니다. 클러스터가 NVMe 호스트를 지원하도록 구성된 경우 NVMe 네임스페이스를 만들라는 메시지가 표시됩니다.

ASA r2 스토리지 유닛의 최대 용량은 128TB입니다. 를 참조하십시오link:https://hwu.netapp.com/["NetApp Hardware Universe를 참조하십시오"^] ASA r2 시스템의 최신 저장 한도에 대해서는 다음을 참조하세요.

스토리지 장치 생성 프로세스의 일부로 호스트 이니시에이터를 스토리지 장치에 추가하고 매핑합니다.  당신도 할 수 있습니다link:provision-san-storage.html#add-host-initiators["추가하다"] 그리고link:provision-san-storage.html#map-the-storage-unit-to-a-host["지도"] 저장 장치를 만든 후 호스트 이니시에이터를 생성합니다.

ONTAP 9.18.1부터 스토리지 유닛을 생성할 때 스냅샷 예약을 수정하고 자동 스냅샷 삭제를 활성화할 수 있습니다. 스냅샷 예약은 스냅샷을 위해 특별히 예약된 저장 장치의 공간입니다. 스냅샷 예약이 자동 스냅샷 삭제로 설정된 경우, 스냅샷에 사용된 공간이 스냅샷 예약 공간을 초과하면 오래된 스냅샷이 자동으로 삭제됩니다.

link:../data-protection/snapshot-reserve.html["ASA r2 시스템의 스냅샷 예약에 대해 자세히 알아보세요."].

스토리지 유닛은 기본적으로 씬 프로비저닝됩니다.  씬 프로비저닝을 사용하면 저장 장치가 할당된 크기까지 확장될 수 있지만 공간을 미리 예약하지는 않습니다.  공간은 필요에 따라 사용 가능한 여유 공간에서 동적으로 할당됩니다.  이를 통해 사용 가능한 공간을 _과도하게 프로비저닝_하여 더 큰 저장 효율성을 실현할 수 있습니다.  예를 들어, 1TB의 여유 공간이 있고 1TB 저장 장치 4개를 만들어야 한다고 가정해 보겠습니다.  시스템에 3TB의 추가 저장 용량을 즉시 추가하는 대신, 저장 장치를 만들고 공간 활용도를 모니터링하며 저장 장치가 실제 공간을 사용함에 따라 저장 용량을 늘릴 수 있습니다. 자세히 알아보세요link:https://docs.netapp.com/us-en/ontap/concepts/thin-provisioning-concept.html["씬 프로비저닝"^] .

.단계
. System Manager에서 * Storage * 를 선택한 다음 를 image:icon_add_blue_bg.png["파란색 배경과 단어의 직사각형 아이콘은 흰색 글자의 중앙에 추가됩니다"]선택합니다.
. 새 스토리지 유닛의 이름을 입력합니다.
. 만들려는 단위 수를 입력합니다.
+
두 개 이상의 스토리지 유닛을 생성하는 경우 각 유닛은 동일한 용량, 호스트 운영 체제 및 호스트 매핑을 사용하여 생성됩니다.

+
스토리지 가용성 영역 전체에서 워크로드 밸런싱을 최적화하려면 짝수 개의 스토리지 유닛을 만듭니다.

. 스토리지 유닛 용량을 입력한 다음 호스트 운영 체제를 선택합니다.
+

CAUTION: 두 개 이상의 저장 장치를 만드는 경우 각 장치는 동일한 용량으로 생성됩니다.  사용 가능한 공간이 충분한지 확인하려면 만들고자 하는 저장 공간의 수에 원하는 용량을 곱하세요.  충분한 여유 공간이 없고 과도한 프로비저닝을 선택한 경우, 공간 부족과 데이터 손실을 방지하기 위해 사용률을 주의 깊게 모니터링하세요.

. 자동으로 선택된 * 호스트 매핑 * 을 적용하거나 매핑할 스토리지 유닛에 대해 다른 호스트 그룹을 선택합니다.
+
*호스트 매핑*은 새로운 저장 장치가 매핑될 호스트 그룹을 의미합니다.  새 스토리지 유닛에 대해 선택한 호스트 유형에 대한 기존 호스트 그룹이 있는 경우, 호스트 매핑을 위해 기존 호스트 그룹이 자동으로 선택됩니다.  자동으로 선택된 호스트 그룹을 수락하거나 다른 호스트 그룹을 선택할 수 있습니다.

+
지정한 운영 체제에서 실행되는 호스트에 대한 기존 호스트 그룹이 없으면 ONTAP 자동으로 새 호스트 그룹을 만듭니다.

. 다음 중 하나를 수행하려면 * 추가 옵션 * 을 선택하고 필요한 단계를 완료합니다.
+
[cols="2, 4a"]
|===
| 옵션을 선택합니다 | 단계 


 a| 
기본 QoS(Quality of Service) 정책을 변경합니다

기본 QoS 정책이 스토리지 유닛이 생성되는 스토리지 가상 머신(VM)에 이전에 설정되지 않은 경우 이 옵션을 사용할 수 없습니다.
 a| 
.. 스토리지 및 최적화 * 에서 * 서비스 품질(QoS) * 옆의 를 선택합니다image:icon_dropdown_arrow.gif["아래쪽 방향을 가리키는 파란색 화살표 아이콘"].
.. 기존 QoS 정책을 선택합니다.




 a| 
새 QoS 정책을 생성합니다
 a| 
.. 스토리지 및 최적화 * 에서 * 서비스 품질(QoS) * 옆의 를 선택합니다image:icon_dropdown_arrow.gif["아래쪽 방향을 가리키는 파란색 화살표 아이콘"].
.. Define new policy * 를 선택합니다.
.. 새 QoS 정책의 이름을 입력합니다.
.. QoS 한도, QoS 보장 또는 둘 다를 설정합니다.
+
... (선택 사항) * Limit * 아래에 최대 처리량 제한, 최대 IOPS 제한 또는 둘 모두를 입력합니다.
+
스토리지 유닛의 최대 처리량과 IOPS를 설정하면 중요 워크로드의 성능이 저하되지 않도록 시스템 리소스에 대한 영향이 제한됩니다.

... 필요한 경우 * Guarantee * 에 최소 처리량, 최소 IOPS 또는 둘 모두를 입력합니다.
+
스토리지 유닛에 대해 최소 처리량과 IOPS를 설정하면 경쟁 워크로드의 수요에 관계없이 최소 성능 목표를 달성할 수 있습니다.



.. 추가 * 를 선택합니다.




 a| 
기본 성능 서비스 수준을 변경합니다.
 a| 
.. Storage and optimization * 에서 * Performance service level * 옆에 있는 를 선택합니다image:icon_dropdown_arrow.gif["아래쪽 방향을 가리키는 파란색 화살표 아이콘"].
.. 성능 * 을 선택합니다.
+
ASA r2 시스템은 두 가지 성능 수준을 제공합니다.  기본 성능 수준은 *극단*으로, 사용 가능한 가장 높은 수준입니다.  수준을 *성능*으로 낮출 수 있습니다.





 a| 
기본 스냅샷 예약을 수정하고 자동 스냅샷 삭제를 활성화합니다.
 a| 
.. *스냅샷 예약 %*에서 스냅샷에 할당하려는 저장 장치 공간의 백분율에 대한 숫자 값을 입력합니다.
.. *오래된 스냅샷을 자동으로 삭제*를 선택합니다.




 a| 
새 SCSI 호스트를 추가합니다
 a| 
.. 호스트 정보 * 에서 연결 프로토콜로 * SCSI * 를 선택합니다.
.. 호스트 운영 체제를 선택합니다.
.. Host Mapping * 아래에서 * New hosts * 를 선택합니다.
.. FC * 또는 * iSCSI * 를 선택합니다.
.. 기존 호스트 이니시에이터를 선택하거나 * Add initiator * 를 선택하여 새 호스트 이니시에이터를 추가합니다.
+
유효한 FC WWPN의 예는 "01:02:03:04:0a:0b:0c:0d"입니다. 유효한 iSCSI 이니시에이터 이름의 예로는 "iqn.1995-08.com.example:string" 및 "eui.0123456789abcdef"가 있습니다.





 a| 
새 SCSI 호스트 그룹을 생성합니다
 a| 
.. 호스트 정보 * 에서 연결 프로토콜로 * SCSI * 를 선택합니다.
.. 호스트 운영 체제를 선택합니다.
.. 호스트 매핑 * 아래에서 * 새 호스트 그룹 * 을 선택합니다.
.. 호스트 그룹의 이름을 입력한 다음 그룹에 추가할 호스트를 선택합니다.




 a| 
새 NVMe 하위 시스템을 추가합니다
 a| 
.. 호스트 정보 * 에서 연결 프로토콜로 * NVMe * 를 선택합니다.
.. 호스트 운영 체제를 선택합니다.
.. 호스트 매핑 * 아래에서 * 새 NVMe 하위 시스템 * 을 선택합니다.
.. 하위 시스템의 이름을 입력하거나 기본 이름을 그대로 사용합니다.
.. 이니시에이터의 이름을 입력합니다.
.. 대역내 인증 또는 TLS(전송 계층 보안)를 활성화하려면 을 image:icon_dropdown_arrow.gif["아래쪽 방향을 가리키는 파란색 화살표 아이콘"]선택한 다음 옵션을 선택합니다.
+
대역 내 인증을 통해 NVMe 호스트와 ASA R2 시스템 간에 안전한 양방향 및 단방향 인증을 수행할 수 있습니다.

+
TLS는 NVMe/TCP 호스트와 ASA R2 시스템 간에 네트워크를 통해 전송되는 모든 데이터를 암호화합니다.

.. 이니시에이터를 추가하려면 * 이니시에이터 추가 * 를 선택하십시오.
+
호스트 NQN을 <nqn.yyyy-mm> 다음에 정규화된 도메인 이름으로 포맷합니다.  연도는 1970년 또는 그 이후여야 합니다.  총 최대 길이는 223이어야 합니다.  유효한 NVMe 이니시에이터의 예는 nqn.2014-08.com.example:string입니다.



|===
. 추가 * 를 선택합니다.


.다음 단계
스토리지 유닛이 생성되어 호스트에 매핑됩니다. 이제 link:../data-protection/create-snapshots.html["스냅샷을 생성합니다"]ASA R2 시스템의 데이터를 보호할 수 있습니다.

.를 참조하십시오
에 대해 자세히 link:../administer/manage-client-vm-access.html["ASA R2 시스템에서 스토리지 가상 머신을 사용하는 방법"]알아보십시오.



== 호스트 이니시에이터를 추가합니다

언제든지 ASA R2 시스템에 새 호스트 이니시에이터를 추가할 수 있습니다. 이니시에이터는 호스트가 스토리지 유닛을 액세스하고 데이터 작업을 수행할 수 있도록 합니다.

.시작하기 전에
호스트 이니시에이터를 추가하는 동안 호스트 구성을 대상 클러스터로 복제하려면 클러스터가 복제 관계에 있어야 합니다. 선택적으로 link:../data-protection/snapshot-replication.html#step-3-create-a-replication-relationship["복제 관계를 생성합니다"]호스트를 추가한 후에 수행할 수 있습니다.

SCSI 또는 NVMe 호스트에 대한 호스트 이니시에이터를 추가합니다.

[role="tabbed-block"]
====
.SCSI 호스트
--
.단계
. Host * 를 선택합니다.
. SCSI * 를 선택한 다음 를 image:icon_add_blue_bg.png["더하기 기호 다음에 흰색 글자로 추가된 단어가 표시된 파란색 직사각형 아이콘"]선택합니다.
. 호스트 이름을 입력하고 호스트 운영 체제를 선택한 다음 호스트 설명을 입력합니다.
. 호스트 구성을 대상 클러스터로 복제하려면 * Replicate host configuration * 을 선택한 다음 대상 클러스터를 선택합니다.
+
호스트 구성을 복제하려면 클러스터가 복제 관계에 있어야 합니다.

. 새 호스트 또는 기존 호스트를 추가합니다.
+
[cols="2"]
|===
| 새 호스트를 추가합니다 | 기존 호스트를 추가합니다 


 a| 
.. New hosts * 를 선택합니다.
.. FC * 또는 * iSCSI * 를 선택한 다음 호스트 이니시에이터를 선택합니다.
.. 필요에 따라 * 호스트 근접성 구성 * 을 선택합니다.
+
ONTAP는 호스트 근접성을 구성하여 데이터 경로를 최적화하고 지연 시간을 줄이기 위해 호스트에 가장 가까운 컨트롤러를 식별할 수 있습니다. 이 옵션은 데이터를 원격 위치에 복제된 경우에만 적용됩니다. 스냅샷 복제를 설정하지 않은 경우에는 이 옵션을 선택할 필요가 없습니다.

.. 새 이니시에이터를 추가해야 하는 경우 * 이니시에이터 추가 * 를 선택합니다.

 a| 
.. Existing hosts * 를 선택합니다.
.. 추가할 호스트를 선택합니다.
.. 추가 * 를 선택합니다.


|===
. 추가 * 를 선택합니다.


.다음 단계
SCSI 호스트가 ASA R2 시스템에 추가되고 호스트를 스토리지 유닛에 매핑할 준비가 되었습니다.

--
.NVMe 호스트
--
.단계
. Host * 를 선택합니다.
. NVMe * 를 선택한 다음 를 선택합니다image:icon_add_blue_bg.png["파란색 배경과 단어의 직사각형 아이콘은 흰색 글자의 중앙에 추가됩니다"].
. NVMe 하위 시스템의 이름을 입력하고 호스트 운영 체제를 선택한 다음 설명을 입력합니다.
. Add initiator * 를 선택합니다.


.다음 단계
NVMe 호스트가 ASA R2 시스템에 추가되고, 호스트를 스토리지 유닛에 매핑할 수 있습니다.

--
====


== 스토리지 유닛을 호스트에 매핑합니다

ASA r2 스토리지 유닛을 생성하고 호스트 이니시에이터를 추가한 후 호스트를 스토리지 유닛에 매핑하여 데이터 제공을 시작합니다.  저장 장치는 저장 장치 생성 프로세스의 일부로 호스트에 매핑됩니다.  언제든지 기존 스토리지 장치를 새 호스트나 기존 호스트에 매핑할 수도 있습니다.

.단계
. 스토리지 * 를 선택합니다.
. 매핑할 스토리지 유닛의 이름 위로 마우스를 가져갑니다.
. 을 image:icon_kabob.gif["세 개의 수직 파란색 점"]선택한 다음 * 호스트에 매핑 * 을 선택합니다.
. 스토리지 유닛에 매핑할 호스트를 선택한 다음 * Map * 을 선택합니다.


.다음 단계
스토리지 유닛이 호스트에 매핑되어 호스트에서 프로비저닝 프로세스를 완료할 준비가 되었습니다.



== 호스트측 프로비저닝을 완료합니다

스토리지 유닛을 생성하고 호스트 이니시에이터를 추가하고 스토리지 유닛을 매핑한 후에는 호스트에서 ASA R2 시스템에서 데이터를 읽고 쓰기 전에 수행해야 하는 단계가 있습니다.

.단계
. FC 및 FC/NVMe의 경우 WWPN을 기준으로 FC 스위치를 조닝합니다.
+
이니시에이터당 하나의 존을 사용하고 각 존에 모든 타겟 포트를 포함합니다.

. 새 저장 장치를 확인해 보십시오.
. 스토리지 유닛을 초기화하고 파일 시스템을 생성합니다.
. 호스트가 스토리지 유닛의 데이터를 읽고 쓸 수 있는지 확인합니다.


.다음 단계
프로비저닝 프로세스를 완료했으며 데이터 서비스를 시작할 준비가 되었습니다. 이제 link:../data-protection/create-snapshots.html["스냅샷을 생성합니다"]ASA R2 시스템의 데이터를 보호할 수 있습니다.

.를 참조하십시오
호스트측 구성에 대한 자세한 내용은 link:https://docs.netapp.com/us-en/ontap-sanhost/["ONTAP SAN 호스트 설명서"^]해당 호스트의 를 참조하십시오.
